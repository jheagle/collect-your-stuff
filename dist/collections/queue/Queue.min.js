"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Queueable=_interopRequireDefault(require("./Queueable")),_LinkedList=_interopRequireDefault(require("../linked-list/LinkedList"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class Queue{constructor(e){this.queuedList=e}add(e){this.queuedList.append(e)}dequeue(){const e=this.remove();return e?e.complete?this.dequeue():e.running?{success:!1,error:"The queue has been blocked by an unfinished task.",context:e}:(this.enqueue(e),e.isReady?e.run.call(e):{success:!1,error:"Unable to find ready task.",context:e}):{success:"No more queueable tasks in the queue",error:!1,context:this.queuedList}}empty(){return this.size()<=0}enqueue(e){this.add(e)}get(){return this.queuedList.first}getFirst(){return this.get()}peek(){return this.get()}remove(){return this.empty()?null:this.queuedList.remove(this.queuedList.first)}size(){return this.queuedList.length}}Queue.fromArray=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_Queueable.default;const u=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:_LinkedList.default)(t);return u.initialize(t.fromArray(e).head),new Queue(u)};var _default=exports.default=Queue;